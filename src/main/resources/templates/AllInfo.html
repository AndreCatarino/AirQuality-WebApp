<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Air Quality WebApp</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <!-- Table sorting system-->


</head>
<body style="background-color: #A4A4A4">
<!-- Black with white text -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <ul class="navbar-nav">
        <li class="nav-item active">
            <a class="nav-link">AirQuality WebApp</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"></a>
    </ul>
</nav>

<div class="container" style="display:inline-block;">
    <h1 style="color: white"> Cities Information:</h1>

    <div th:if="${cityDataRepository.empty}"  style="color: white; background-color: darkslategray">
        <span> There is no data available at this time </span>
    </div>

        <table id="myTable" style="color: white; background-color: darkslategray">
            <thead>
                <th>Name</th>
                <th>Id</th>
                <th>O3</th>
            </thead>
            <tr th:each="CityDataObject : ${cityDataRepository}" class="element">
                <td th:text="${CityDataObject.name}"></td>
                <td class="Id" th:text="${CityDataObject.id}"> </td>
                <td th:text="${CityDataObject.o3}"></td>

            </tr>
        </table>

</div>

</body>
<script>
    $(".element").click(function(){
        var pId = $(this).find(".Id").text();
        if ( pId ){
            window.location = "/City/"+pId;
        }

    });
</script>
</html>
